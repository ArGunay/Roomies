<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/input-search/input-search.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="main-page">
  <template>
    <header>
      <input-search placeholder="Search..."></input-search>
      <paper-button id="toggleRoomies" on-click="_setActive">Roomies</paper-button>
      <paper-button id="toggleAppartments" on-click="_setActive">Appartments</paper-button>
    </header>
    <main>
      <template is="dom-repeat" items="{{people}}" as="person">
        <paper-card preloadImage="true" fadeImage="true"
        heading="{{person.name}}" image="{{person.picSrc}}" alt="pic">
          <div class="card-content">
            {{person.desc}}
          </div>
          <div class="card-actions">
            <paper-button>Share</paper-button>
            <paper-button>Explore!</paper-button>
          </div>
        </paper-card>
      </template>
   </main>

    <style>
      #main {
        display: flex;
        flex-direction : row;
      }
      .active {
        color : blue;
      }
      main {
        display : flex;
        flex-direction: row;
        flex-wrap : wrap;
        justify-content: space-evenly;
      }
      header {
        width : 100%;
        color : #8a0f26;
      }
      header div {

      }
      .toggle {
        width : 40%;
      }


      paper-card {
        max-width: 400px;
        height : auto;
        --paper-card-header-color : white;
        --paper-card-header-image-text {
          color : red;

        }
      }


      input-search {
       border-radius: 22px;
       padding: 0 8px;
       font-family: sans-serif;
       display: block;
       width: 50%;
       margin : auto;
     }
    </style>
  </template>
  <script>
  class MainPage extends Polymer.Element {
    constructor() {
      super();
    }

    static get is() {
      return 'main-page';
    }

    static get properties() {
      return {
        appartments : {
          type : Array,
          value : function() {
            return []
          },
          notify: true
        },
        people : {
          type : Array,
          value : function() {
            return [{picSrc: "https://www.imagejournal.org/wp-content/uploads/bb-plugin/cache/23466317216_b99485ba14_o-panorama.jpg",
                    name : "CoolPic",
                    desc : "Pic from internet"},
                    {picSrc: "https://www.imagejournal.org/wp-content/uploads/bb-plugin/cache/23466317216_b99485ba14_o-panorama.jpg",
                     name : "CoolPic",
                     desc : "Pic from internet"}
                    ]
          },
          notify: true
        }
      }
    }

    _setActive(e) {
      let el = e.path[0];
      if(el.className === "active") {
        return;
      }else {
        if(el.id === "toggleRoomies") {

        }
        let list = this.shadowRoot.querySelectorAll("paper-button");
        el.className = "active";
      }





      }
      console.log(document.getElementsByTagName("paper-button"));
    }

    _filterFunctionCalc(toggle) {
      //return toggle ? "_filter" "";
      return "";
    }

    _addAppartment() {
    //  this.push("appartments",{

      //});
    }

    _addPeople(picsrc, nam, description, tgs) {
      this.push("people", {
        picSrc : picsrc,
        name : nam,
        desc : description,
        tags : tgs
      });
    };


  }
  customElements.define(MainPage.is, MainPage);
  </script>
</dom-module>
