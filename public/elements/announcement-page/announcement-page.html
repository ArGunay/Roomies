<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="smart-recap.html">

<link rel="import" href="../../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../../bower_components/iron-icons/maps-icons.html">
<script src="../../ajax/ajax.js"></script>

<dom-module id="announcement-page">

    <template>


        <style include="shared-style">
            textarea {
                resize: none;
                height: 120px;
                font-family: var(--shared-text-font);
            }

            input[type=text], select, textarea {
                width: 100%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                border: 1px solid rgb(218, 76, 76);
                border-radius: 4px;
                box-sizing: border-box;
                font-family: var(--shared-text-font);
            }

            input[type=submit] {
                width: 100%;
                background-color: var(--shared-main-color);
                color: white;
                padding: 14px 20px;
                margin: 8px 0;
                border: none;
                border-radius: 4px;
                cursor: pointer;

                font-family: var(--shared-serious-font);
            }

            input[type=submit]:hover {
                background-color: #45a049;

            }

            #mailform {
                border-radius: 5px;
                font-family: var(--shared-serious-font);
                /* background-color: #ffffff; */

                padding: 20px;
            }

            #requiring{
                display: inline-block;
                /* background-color: green; */
                width: 200px;
                height: 50px;
                vertical-align: middle;
                font-size: 2em;
                border: 1px solid black;
                border-radius: 5px;
                display: flex;
                flex-flow: column;
                justify-content: space-around;
            }

            #dialog{
                width: 90vw;
                height: 90vh;
            }


            #recapcontent{
                min-width: 450px;
                flex-grow: 1;
                width: 50%;
                height: 400px;
                /* background-color: yellow; */
                margin: 30px;
                display: flex;
                flex-direction: row;
                justify-content: space-around;
                align-items: center;
                flex-wrap: wrap;

            }

            /* ALL CONTAINER */
            .container{
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                /* background-color: red; */
                width: 80vw;
                height: 100vh;

            }

            /* IMAGE SECTION */
            #imagecontent{
                display: flex;
                flex-grow: 1;
                width: 40%;
                height: 400px;
                /* background-color: blue; */
                margin: 2%;
                justify-content: center;
                align-items: center;
                align-content: center;
            }

            #descriptionbox{
                /* background-color: green; */
                flex-grow: 1;
                width: 40%;
                height: 400px;
                margin: 2%;

            }

            #messagebox{
                /* background-color: rgb(255, 191, 0); */
                min-width: 450px;
                flex-grow: 1;
                width: 50%;
                height: 400px;
                margin: 2%;
            }


            #descriptiontitle{

                padding: 3%;
                margin-bottom: 2%;
                border: 1px solid black;
                text-align: center;
                font-size: 2em;
                font-family: var(--shared-serious-font);
            }

            #descriptionbox > paper-dialog-scrollable{
                width: 100%;
                height: 80%;
                font-family: var(--shared-text-font);

            }

            section {
                width: 96%;
                height: 95%;
                @apply --layout-vertical;
            }
            section paper-dialog-scrollable {
                @apply --layout-flex;
            }

            #announcementtitle{
                margin: 10px 0 20px 0;
                font-size: 3em;
                color: black;
                text-align: center;
                font-family: var(--shared-text-font);
            }

            img{
                max-height: 100%;
                max-width: 99%;
                width: auto;

            }
            paper-button {
                font-family: var(--shared-button-font);
                padding: 2px;
                text-align: center;
            }

        </style>




    <paper-button raised on-click="openDialog">more</paper-button>
    <paper-dialog id="dialog">
    <section>
        <div id="announcementtitle">[[announcement.title]]</div>
        <paper-dialog-scrollable>
            <div class="container">
                <div id="imagecontent">
                    <img src="{{announcement.imageURL}}" alt="[[imgAlt]]">
                </div>
                <div id="recapcontent">
                    <template is="dom-repeat" items="{{announcement.smarttitles}}">
                        <smart-recap recap={{item}}></smart-recap>
                    </template>
                </div>
                <div id="descriptionbox">
                    <div id="descriptiontitle">Description</div>
                    <paper-dialog-scrollable id="descriptiontext">
                        <p>{{announcement.description}}</p>
                        <br>
                        <template is="dom-repeat" items="{{announcement.requirements}}" as="requirement" >
                            <div id="requiring">
                                {{requirement.description}}:<iron-icon icon="icons:check"></iron-icon>
                            </div>
                        </template>
                    </paper-dialog-scrollable>
                </div>
                <div id="messagebox">
                    <div id="mailform">
                        <form action="mailto:{{thispersonemail}}" method="post" enctype="text/plain">

                            <label for="fname">First Name</label>
                            <input type="text" id="fname" name="firstname" placeholder="Your name..">

                            <label for="email">E-Mail</label>
                            <input type="text" id="email" name="mail" placeholder="Your E-mail..">

                            <label for="tex">Message</label>
                            <textarea type="text" id="tex" name="comment" placeholder="Your message.."></textarea>

                            <input type="submit" value="Submit">
                        </form>
                    </div>
                </div>
            </div>
        </paper-dialog-scrollable>
    </section>
    </paper-dialog>

    </template>

    <script>

        class AnnouncementPage extends Polymer.Element{
            constructor(){
                super();
                console.log("The id of this element is : " + this._id)
                console.log("The class of this element is : " + this.className)
            }

            connectedCallback(){
                super.connectedCallback();
                console.log("The id of this element is : " + this._id)
                console.log("The class of this element is : " + this.className)

            }
            static get is(){
                return "announcement-page";
            }

            static get properties(){
                return{
                    announcement:{
                        type: Object,
                        value:{
                            Id: "", // ID OF ELEMENT SHOUlD GO HERE
                            title: "Announcement Title",
                            imageURL: "https://source.unsplash.com//_-JR5TxKNSo",
                            smarttitles:[
                                {
                                    img: "../../src/img/bed.svg",
                                    val: 111,
                                    title: "BEDROOM",

                                },
                                {
                                    img:"../../src/img/blueprint.svg",
                                    val: 20,
                                    title: "ROOM SIZE"
                                },
                                {
                                    img: "../../src/img/money.svg",
                                    val: "134",
                                    title: "RENT",
                                    notify: true,
                                },
                                {
                                    img: "../../src/img/toilet.svg" ,
                                    val: 2,
                                    title: "BATHROOMS",
                                }],
                                description: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa repellat eligendi deleniti debitis, quia, dicta iure, fugit eius numquam aperiam dolorum? Odio commodi quae impedit natus debitis odit suscipit consectetur. Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero assumenda delectus est, laborum dolore natus quas architecto aperiam nulla omnis odit autem, ratione eveniet amet atque, voluptates eligendi dicta ullam! Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero assumenda delectus est, laborum dolore natus quas architecto aperiam nulla omnis odit autem, ratione eveniet amet atque, voluptates eligendi dicta ullam! Lorem ipsum dolor sit amet consectetur!",
                                requirements:[
                                    {
                                        description: "Smoker",
                                        control: Boolean,
                                    },
                                    {
                                        description: "Gender",
                                        control: String,
                                        val:"M"
                                    },
                                    {
                                        description: "Price",
                                        control: Number,
                                        val: "1"
                                    },
                                    {
                                        description: "animals",
                                        control: Boolean,
                                    },
                                    /*
                                    smoker:{
                                        type: Boolean,
                                        value: true,
                                    },
                                    gender: {
                                        type: String,
                                        value: "MALE"
                                    },
                                    price:{
                                        type: Number,
                                        value: "12",
                                    },
                                    animals:{
                                        type: Boolean,
                                        value: false,
                                    }
                                    */ // ADD OTHER PARAMS AND CONFORM WITH PASSED OBJ
                                ]

                        }
                    }


                }
            } // END OF PROPERTIES



            openDialog() {
                this.$.dialog.open();
            }

            sendMessage(){
                console.log("SendMEssaage")
            }
        }




        customElements.define(AnnouncementPage.is, AnnouncementPage)
    </script>
</dom-module>

</dom-module>
